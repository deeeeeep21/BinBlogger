<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/medium-editor/5.23.3/css/medium-editor.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/css/bootstrap-select.css" />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/js/bootstrap-select.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/medium-editor/5.23.3/js/medium-editor.min.js"></script>
<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.css">
<link href="https://netdna.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/medium-editor/5.23.3/css/themes/beagle.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/rangy/1.3.0/rangy-core.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/rangy/1.3.0/rangy-classapplier.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.20.0/components/prism-core.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.20.0/plugins/autoloader/prism-autoloader.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.20.0/components/prism-python.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.20.0/themes/prism-okaidia.min.css">
<style>
    /*Profile Pic update with preview Start*/
    .picture-container {
        position: relative;
        cursor: pointer;
        text-align: center;
    }

    .picture {
        width: 100%;
        height: 260px;
        background-color: #40bdac;
        border: 4px solid rgb(67, 201, 149);
        color: #FFFFFF;
        margin: 0px auto;
        overflow: hidden;
        transition: all 0.2s;
        -webkit-transition: all 0.2s;
    }

    .picture:hover {
        border-color: #0bd3c2;
    }

    .content.ct-wizard-green .picture:hover {
        border-color: #05ae0e;
    }

    .content.ct-wizard-blue .picture:hover {
        border-color: #3472f7;
    }

    .content.ct-wizard-orange .picture:hover {
        border-color: #ff9500;
    }

    .content.ct-wizard-red .picture:hover {
        border-color: #ff3b30;
    }

    .picture input[type="file"] {
        cursor: pointer;
        display: block;
        height: 100%;
        left: 0;
        opacity: 0 !important;
        position: absolute;
        top: 0;
        width: 100%;
    }

    .picture-src {
        width: 100%;
        height: 300px;


    }

    .medium-editor-element {
        min-height: 300px;
        border: 1px solid green;
        padding: 0.8rem;
        font-size: 18px;
        border-radius: 10px;
    }
</style>

<div class="">
    <div class="row">
        <div class="col-lg-1 pt-lg-5 ml-lg-5 pt-sm-3">

        </div>
        <div class="col-md-7 pl-lg-4 pt-lg-5 ml-0 p-sm-3">
            <div class="card">
                <div class="card-body">
                    <h4 class="text-info">New Post</h4>
                    <hr>
                    <form>
                        <div class="form-group row">
                            <label for="text" class="col-12 col-form-label">Post Title</label>
                            <div class="col-12">
                                <input id="text" name="text" placeholder="Enter Title here" class="form-control here"
                                    required="required" type="text">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="textarea" class="col-12 col-form-label">Post Content (Visual Editor)</label>
                            <hr class="mb-2">
                            <div class="col-12">
                                <textarea class='thisiseditable' id="textarea" name="textarea" cols="40" rows="5"
                                    class="form-control"></textarea>

                            </div>


                        </div>
                    </form>
                </div>
            </div>
            <div class="card mt-3">
                <div class="card-header bg-light ">
                    <button type="button" class="btn btn-info btn-block">Publish</button>

                </div>
            </div>
        </div>
        <div class="col-lg-3 d-block mx-auto pt-lg-5 p-sm-3">
            <div class="card mb-3">
                <div class="card-header bg-light ">
                    <span class="mr-3">Categories</span>
                    <button type="button" class="btn btn-info btn-sm ml-5 pl-2">Add New Category</button>
                </div>
                <div class="card-body">
                    <form>
                        <div class="form-group text-center mt-4">

                            <select class="selectpickerxyz" multiple>
                                <option data-content="<span class='badge badge-success'>Mustard</span>">>Mustard
                                </option>
                                <option>Ketchup</option>
                                <option>Relish</option>
                            </select>

                            <script>
                                $('.selectpickerxyz').attr({
                                    'data-max-options': '3',
                                    'data-live-search': true,
                                    'data-width': 'fit',
                                    'data-style': "btn-outline-info",
                                    'title': "Select categories...",
                                    'data-selected-text-format': "count > 2",
                                });
                                $('select').selectpicker();
                            </script>
                        </div>
                    </form>
                </div>
            </div>
            <div class="card mb-3">
                <div class="card-header bg-light ">Tags</div>
                <div class="card-body">
                    <form>
                        <div class="form-group row">
                            <div class="col-12">
                                <input id="tags" name="tags" placeholder="tags" required="required"
                                    class="form-control here" type="text">
                            </div>
                            <div class="col-12">
                                <small>Seperate Tags with commas</small>
                            </div>
                        </div>
                    </form>
                </div>

            </div>
            <div class="card mb-3">
                <div class="card-header bg-light ">Featured Image</div>
                <div class="card-body">
                    <div class="picture-container">
                        <div class="picture">
                            <img src="#" class="picture-src" id="wizardPicturePreview" title="">
                            <i style='font-size:20px;margin-top:6.4px;margin-left:-6px' class="fas fa-camera"></i>
                            <input type="file" name="image" accept="image/*" id="id_image">
                        </div>

                        <div class="card-footer bg-light">
                            <a href="#">Set Featured Image</a>
                        </div>

                        <label for="id_image" class=" requiredField">
                    </div>

                    </label>
                </div>

            </div>


        </div>

    </div>
</div>

<script>
    rangy.init();

    var HighlighterButton = MediumEditor.extensions.button.extend({
        name: 'highlighter',
        tagNames: ['mark'],
        contentDefault: '<b>H</b>',
        contentFA: '<i class="fa fa-paint-brush"></i>',
        aria: 'Highlight',
        action: 'highlight',

        init: function () {
            MediumEditor.extensions.button.prototype.init.call(this);

            this.classApplier = rangy.createClassApplier('highlight', {
                elementTagName: 'mark',
                normalize: true
            });
        },

        handleClick: function (event) {
            this.classApplier.toggleSelection();
            this.base.checkContentChanged();
        }
    });
    var editor = new MediumEditor('.thisiseditable', {
        toolbar: {
            buttons: ['h1', 'h3', 'bold', 'italic', 'anchor', 'orderedlist', 'unorderedlist', 'highlighter',
                'quote', 'image',
                'justifyLeft', 'justifyCenter', 'justifyRight',
                'pre', 'outdent', 'indent',
                {
                    name: 'html',
                    contentDefault: '<i>Html</i>',
                    contentFA: '<i class="fa fa-html5"></i>',
                },
            ],
        },
        buttonLabels: 'fontawesome',
        extensions: {
            'highlighter': new HighlighterButton()
        },
        placeholder: false,
    });

    $(document).ready(function () {
        // Prepare the preview for profile picture
        $("#id_image").change(function () {
            readURL(this);
        });
    });

    function readURL(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function (e) {
                $("#wizardPicturePreview").attr("src", e.target.result).fadeIn("slow");
            };
            reader.readAsDataURL(input.files[0]);
        }
    }
    $("pre").wrapInner('<code class="language-python"></code>');
</script>